---
title: "Résolution des problèmes relatifs à la réinitialisation de mot de passe libre-service : Azure AD"
description: "Résolution des problèmes relatifs à la réinitialisation de mot de passe libre-service d’Azure AD"
services: active-directory
keywords: 
documentationcenter: 
author: MicrosoftGuyJFlo
manager: mtillman
ms.reviewer: sahenry
ms.assetid: 
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 01/11/2018
ms.author: joflore
ms.custom: it-pro;seohack1
ms.openlocfilehash: c038a9ec682a5971a5f79b9fe36e667493702cbd
ms.sourcegitcommit: f1c1789f2f2502d683afaf5a2f46cc548c0dea50
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/18/2018
---
# <a name="troubleshoot-self-service-password-reset"></a>Résoudre les problèmes relatifs à la réinitialisation de mot de passe libre-service

Vous rencontrez un problème avec la réinitialisation de mot de passe libre-service d’Azure Active Directory (Azure AD) ? Les informations ci-après peuvent vous aider à le résoudre.

## <a name="troubleshoot-self-service-password-reset-errors-that-a-user-might-see"></a>Résoudre les erreurs de réinitialisation de mot de passe libre-service qu’un utilisateur peut voir

| Error | Détails | Détails techniques |
| --- | --- | --- |
| TenantSSPRFlagDisabled = 9 | Nous sommes désolés, vous ne pouvez pas réinitialiser votre mot de passe pour l’instant, car votre administrateur a désactivé la réinitialisation de mot de passe pour votre organisation. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Veuillez contacter votre administrateur et demandez-lui d’activer cette fonctionnalité. Pour en savoir plus, consultez [J’ai oublié mon mot de passe Azure AD](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-update-your-own-password#common-problems-and-their-solutions). | SSPR_0009 : nous avons détecté que la réinitialisation de mot de passe n’a pas été activée par votre administrateur. Veuillez contacter votre administrateur et demandez-lui d’activer la réinitialisation de mot de passe pour votre organisation. |
| WritebackNotEnabled = 10 |Nous sommes désolés, vous ne pouvez pas réinitialiser votre mot de passe pour l’instant, car votre administrateur a désactivé le service nécessaire pour votre organisation. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Veuillez contacter votre administrateur et demandez-lui de vérifier la configuration de votre organisation. Pour en savoir plus sur ce service nécessaire, consultez [Configuration de l’écriture différée du mot de passe](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-writeback#configure-password-writeback). | SSPR_0010 : nous avons détecté que la réécriture du mot de passe n’a pas été activée. Veuillez contacter votre administrateur et demandez-lui d’activer la réécriture du mot de passe. |
| SsprNotEnabledInUserPolicy = 11 | Nous sommes désolés, vous ne pouvez pas réinitialiser votre mot de passe pour l’instant, car votre administrateur n’a pas configuré la réinitialisation de mot de passe pour votre organisation. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Contactez votre administrateur et demandez-lui de configurer la réinitialisation de mot de passe. Pour en savoir plus sur la configuration de la réinitialisation de mot de passe, consultez [Démarrage rapide : Réinitialisation de mot de passe en libre-service Azure AD](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-getting-started). | SSPR_0011 : votre organisation n’a pas défini de stratégie de réinitialisation de mot de passe. Veuillez contacter votre administrateur et demandez-lui de définir une stratégie de réinitialisation de mot de passe. |
| UserNotLicensed = 12 | Nous sommes désolés, vous ne pouvez pas réinitialiser votre mot de passe pour l’instant, car il manque les licences requises pour votre organisation. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Veuillez contacter votre administrateur et demandez-lui de vérifier votre attribution des licences. Pour en savoir plus sur les licences, consultez [Conditions de licence pour la réinitialisation du mot de passe en libre-service Azure AD](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-licensing). | SSPR_0012 : votre organisation n’a pas les licences requises pour effectuer la réinitialisation du mot de passe. Veuillez contacter votre administrateur et demandez-lui de vérifier l’attribution des licences. |
| UserNotMemberOfScopedAccessGroup = 13 | Nous sommes désolés, vous ne pouvez pas réinitialiser votre mot de passe pour l’instant, car votre administrateur n’a pas configuré votre compte pour qu’il utilise la réinitialisation de mot de passe. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Veuillez contacter votre administrateur et demandez-lui de configurer votre compte pour la réinitialisation de mot de passe. Pour en savoir plus sur la configuration du compte pour la réinitialisation de mot de passe, consultez [Lancer la réinitialisation du mot de passe des utilisateurs](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-best-practices). | SSPR_0012 : vous n’êtes pas un membre d’un groupe activé pour la réinitialisation de mot de passe. Contactez votre administrateur et demandez-lui de vous ajouter au groupe. |
| UserNotProperlyConfigured = 14 | Nous sommes désolés, vous ne pouvez pas réinitialiser votre mot de passe pour l’instant, car il manque des informations nécessaires pour votre compte. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Veuillez contacter votre administrateur et demandez-lui de réinitialiser votre mot de passe pour vous. Une fois que vous avez à nouveau accès à votre compte, vous devez enregistrer les informations nécessaires. Pour enregistrer les informations, suivez les étapes de l’article [S’inscrire à la réinitialisation de mot de passe en libre-service](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-reset-register). | SSPR_0014 : des informations de sécurité supplémentaires sont nécessaires pour réinitialiser votre mot de passe. Pour réaliser l’opération, veuillez contacter votre administrateur et demandez-lui de réinitialiser votre mot de passe. Une fois que vous avez accès à votre compte, vous pouvez enregistrer des informations de sécurité supplémentaires à l’adresse https://aka.ms/ssprsetup. Votre administrateur peut ajouter des informations de sécurité supplémentaires à votre compte en suivant les étapes décrites dans [Définir et lire les données d’authentification à l’aide de PowerShell](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-data#set-and-read-authentication-data-using-powershell). |
| OnPremisesAdminActionRequired = 29 | Nous sommes désolés, nous ne pouvons pas réinitialiser votre mot de passe pour l’instant en raison d’un problème avec la configuration de réinitialisation de mot de passe de votre organisation. Vous ne pouvez entreprendre aucune action supplémentaire pour résoudre ce problème. Veuillez contacter votre administrateur et demandez-lui d’étudier le problème. Pour plus d’informations sur le problème éventuel, consultez [Résoudre les problèmes d’écriture différée du mot de passe](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-troubleshoot#troubleshoot-password-writeback). | SSPR_0029 : nous ne sommes pas en mesure de réinitialiser votre mot de passe en raison d’une erreur dans votre configuration locale. Veuillez contacter votre administrateur et demandez-lui d’étudier le problème. |
| OnPremisesConnectivityError = 30 | Nous sommes désolés, nous ne pouvons pas réinitialiser votre mot de passe pour l’instant en raison de problèmes de connectivité à votre organisation. Aucune action ne peut être entreprise maintenant, mais le problème sera éventuellement résolu si vous réessayez plus tard. Si le problème persiste, veuillez contacter votre administrateur et demandez-lui d’étudier le problème. Pour en savoir plus sur les problèmes de connectivité, consultez [Résolution des problèmes de connectivité de la réécriture du mot de passe](https://docs.microsoft.com/azure/active-directory/active-directory-passwords-troubleshoot#troubleshoot-password-writeback-connectivity). | SSPR_0030 : nous ne pouvons pas réinitialiser votre mot de passe en raison d’une mauvaise connexion à votre environnement local. Contactez votre administrateur et demandez-lui d’étudier le problème.|


## <a name="troubleshoot-the-password-reset-configuration-in-the-azure-portal"></a>Résoudre le problème de configuration de réinitialisation de mot de passe dans le portail Azure

| Error | Solution |
| --- | --- |
| Je ne vois pas la section **Réinitialisation de mot de passe** sous Azure AD dans le portail Azure. | Cela peut se produire si vous n’avez pas de licence Azure AD Premium ou Basic affectée à l’administrateur qui effectue l’opération. <br> <br> Affectez une licence au compte d’administrateur en question. Vous pouvez suivre les étapes décrites dans l’article [Affecter, vérifier et résoudre les problèmes de licences](active-directory-licensing-group-assignment-azure-portal.md#step-1-assign-the-required-licenses).|
| Je ne vois pas d’option de configuration spécifique. | De nombreux éléments de l’interface utilisateur sont masqués jusqu’à ce qu’ils soient nécessaires. Essayez d’activer toutes les options que vous souhaitez afficher. |
| Je ne vois pas l’onglet **Intégration locale**. | Cette option est visible uniquement si vous avez téléchargé Azure AD Connect et configuré l’écriture différée de mot de passe. Pour plus d’informations, consultez [Prise en main d’Azure AD Connect à l’aide de paramètres express](./connect/active-directory-aadconnect-get-started-express.md). |

## <a name="troubleshoot-password-reset-reporting"></a>Résolution des problèmes des rapports de réinitialisation de mot de passe

| Error | Solution |
| --- | --- |
| Aucun type d’activité de gestion des mots de passe ne s’affiche dans la catégorie d’événement d’audit **Self-Service Password Management** (Gestion des mots de passe en libre-service). | Cela peut se produire si vous n’avez pas de licence Azure AD Premium ou Basic affectée à l’administrateur qui effectue l’opération. <br> <br> Vous pouvez résoudre ce problème en attribuant une licence au compte d’administrateur en question. Suivez les étapes décrites dans l’article [Affecter, vérifier et résoudre les problèmes de licences](active-directory-licensing-group-assignment-azure-portal.md#step-1-assign-the-required-licenses). |
| Les inscriptions de l’utilisateur apparaissent plusieurs fois. | Quand un utilisateur s’enregistre, nous journalisons chaque élément de données individuel sous la forme d’un événement distinct. <br> <br> Si vous souhaitez agréger ces données et bénéficier d’une plus grande souplesse pour les afficher, vous pouvez télécharger le rapport et ouvrir les données dans un tableau croisé dynamique dans Excel.

## <a name="troubleshoot-the-password-reset-registration-portal"></a>Résolution des problèmes du portail d’inscription à la réinitialisation de mot de passe

| Error | Solution |
| --- | --- |
| L’annuaire n’est pas activé pour la réinitialisation du mot de passe. **Votre administrateur ne vous a pas autorisé à utiliser cette fonctionnalité.** | Basculez le marqueur **Réinitialisation de mot de passe en libre-service activée** sur **Sélectionné** ou **Tout le monde**, puis sélectionnez **Enregistrer**. |
| L’utilisateur ne dispose pas d’une licence Azure AD Premium ou Basic. **Votre administrateur ne vous a pas autorisé à utiliser cette fonctionnalité.** | Cela peut se produire si vous n’avez pas de licence Azure AD Premium ou Basic affectée à l’administrateur qui effectue l’opération. <br> <br> Vous pouvez résoudre ce problème en attribuant une licence au compte d’administrateur en question. Suivez les étapes décrites dans l’article [Affecter, vérifier et résoudre les problèmes de licences](active-directory-licensing-group-assignment-azure-portal.md#step-1-assign-the-required-licenses).|
| Une erreur s’est produite pendant le traitement de la demande. | Cela peut être dû à de nombreux problèmes, mais en général, cette erreur est due à une panne ou à un problème de configuration du service. Si cette erreur se produit et qu’elle affecte votre entreprise, contactez Microsoft pour obtenir une assistance supplémentaire. |

## <a name="troubleshoot-the-password-reset-portal"></a>Résolution des problèmes du portail de réinitialisation du mot de passe

| Error | Solution |
| --- | --- |
| L’annuaire n’est pas activé pour la réinitialisation du mot de passe. | Basculez le marqueur **Réinitialisation de mot de passe en libre-service activée** sur **Sélectionné** ou **Tout le monde**, puis sélectionnez **Enregistrer**. |
| L’utilisateur ne dispose pas d’une licence Azure AD Premium ou Basic. | Cela peut se produire si vous n’avez pas de licence Azure AD Premium ou Basic affectée à l’administrateur qui effectue l’opération. <br> <br> Vous pouvez résoudre ce problème si vous attribuez une licence au compte d’administrateur en question. Suivez les étapes décrites dans l’article [Affecter, vérifier et résoudre les problèmes de licences](active-directory-licensing-group-assignment-azure-portal.md#step-1-assign-the-required-licenses). |
| L’annuaire est activé pour la réinitialisation du mot de passe, mais il manque une information d’authentification ou celle-ci n’est pas bien formée. | Avant de poursuivre, vérifiez que l’utilisateur dispose de données de contact correctes dans l’annuaire. Pour plus d’informations, consultez [Données utilisées par la réinitialisation du mot de passe en libre-service Azure AD](active-directory-passwords-data.md). |
| L’annuaire est activé pour la réinitialisation du mot de passe. Toutefois, l’utilisateur n’a fourni qu’une seule partie des données de contact alors que la stratégie nécessite deux méthodes de vérification. | Avant de continuer, vérifiez que l’utilisateur a configuré correctement au moins deux méthodes de contact. Par exemple, il peut combiner un téléphone mobile *et* un téléphone fixe. |
| L’annuaire est activé pour la réinitialisation du mot de passe et l’utilisateur est correctement configuré, mais l’utilisateur est injoignable. | Cela peut être dû à une erreur de service temporaire ou à des données de contact incorrectement configurées qui n’ont pas été signalées comme telles. <br> <br> Si l’utilisateur patiente pendant 10 secondes, les liens « Réessayez » et « Contactez votre administrateur » apparaissent. Si l’utilisateur sélectionne « Réessayez », il renouvelle l’appel. S’il sélectionne « Contactez votre administrateur », un e-mail est envoyé aux administrateurs leur demandant d’effectuer une réinitialisation de mot de passe pour ce compte d’utilisateur. |
| L’utilisateur ne reçoit jamais l’appel téléphonique ou le SMS de réinitialisation du mot de passe. | Cela peut être dû à un numéro de téléphone mal formé dans l’annuaire. Assurez-vous que le numéro de téléphone est au format « +ccc xxxyyyzzzzXeeee ». <br> <br> La réinitialisation du mot de passe ne prend pas en charge les extensions, même si vous en spécifiez une dans l’annuaire. Les extensions sont supprimées avant le déploiement de l’appel. Utilisez un nombre sans numéro de poste ou intégrez le numéro de poste au numéro de téléphone dans votre autocommutateur privé (PBX). |
| L’utilisateur ne reçoit jamais l’e-mail de réinitialisation du mot de passe. | La cause la plus probable de ce problème est que le message est rejeté par un filtre antispam. Consultez votre dossier de courrier indésirable ou d’éléments supprimés pour y rechercher l’e-mail. <br> <br> Assurez-vous également que vous vérifiez le bon compte d’e-mail pour le message. |
| J’ai défini une stratégie de réinitialisation du mot de passe, mais quand un compte d’administrateur utilise la réinitialisation du mot de passe, cette stratégie n’est pas appliquée. | Microsoft gère et contrôle la stratégie de réinitialisation du mot de passe administrateur afin de garantir le plus haut niveau de sécurité possible. |
| L’utilisateur est empêché de tenter de réinitialiser son mot de passe un nombre de fois par jour trop élevé. | Nous implémentons un mécanisme de limitation automatique pour empêcher les utilisateurs d’essayer de réinitialiser leurs mots de passe un nombre de fois trop élevé sur un court laps de temps. La limitation se produit dans les cas suivants : <br><ul><li>L’utilisateur tente de valider un numéro de téléphone cinq fois en une heure.</li><li>L’utilisateur tente d’utiliser la méthode des questions de sécurité cinq fois en une heure.</li><li>L’utilisateur tente de réinitialiser un mot de passe pour le même compte d’utilisateur cinq fois en une heure.</li></ul>Pour résoudre ce problème, demandez à l’utilisateur d’attendre 24 heures après la dernière tentative. L’utilisateur peut ensuite réinitialiser son mot de passe. |
| L’utilisateur rencontre une erreur durant la validation de son numéro de téléphone. | Cette erreur se produit quand le numéro de téléphone entré ne correspond pas au numéro de téléphone enregistré. Assurez-vous que l’utilisateur entre le numéro de téléphone complet, y compris le code de zone et de pays, quand il essaie d’utiliser une méthode par téléphone pour la réinitialisation du mot de passe. |
| Une erreur s’est produite pendant le traitement de la demande. | Cela peut être dû à de nombreux problèmes, mais en général, cette erreur est due à une panne ou à un problème de configuration du service. Si cette erreur se produit et qu’elle affecte votre entreprise, contactez Microsoft pour obtenir une assistance supplémentaire. |

## <a name="troubleshoot-password-writeback"></a>Résoudre les problèmes d’écriture différée du mot de passe

| Error | Solution |
| --- | --- |
| Le service de réinitialisation de mot de passe ne démarre pas localement. L’erreur 6800 apparaît dans le journal des événements de l’application de la machine Azure AD Connect. <br> <br> Après l’intégration, les utilisateurs fédérés ou qui ont recours à la synchronisation du hachage de mot de passe ne parviennent pas à réinitialiser leurs mots de passe. | Quand la réécriture du mot de passe est activée, le moteur de synchronisation appelle la bibliothèque de réécriture pour effectuer la configuration (intégration) en communiquant avec le service d’intégration cloud. Toutes les erreurs rencontrées au cours de l’intégration ou pendant le démarrage du point de terminaison WCF (Windows Communication Foundation) pour la réécriture du mot de passe entraînent une consignation dans le journal des événements de votre machine Azure AD Connect. <br> <br> Pendant le redémarrage du service Azure AD Sync (ADSync), si l’écriture différée a été configurée, le point de terminaison WCF démarre. Mais, si le démarrage du point de terminaison échoue, l’événement 6800 est journalisé et le service de synchronisation peut démarrer. La présence de cet événement signifie que le point de terminaison de la réécriture du mot de passe n’a pas démarré. Les détails du journal des événements pour cet événement 6800, ainsi que les entrées du journal des événements générées par le composant PasswordResetService, indiquent pour quelles raisons vous ne pouvez pas démarrer le point de terminaison. Passez en revue les erreurs du journal des événements et essayez de redémarrer Azure AD Connect si la réécriture du mot de passe ne fonctionne toujours pas. Si le problème persiste, essayez de désactiver, puis de réactiver la réécriture du mot de passe.
| Lorsqu’un utilisateur tente de réinitialiser un mot de passe ou de déverrouiller un compte avec l’écriture différée du mot de passe activée, l’opération échoue. <br> <br> De plus, un événement est consigné dans le journal des événements d’Azure AD Connect : « Synchronization Engine returned an error (Le moteur de synchronisation a renvoyé une erreur) hr=800700CE, message=Nom de fichier ou extension trop long » après l’opération de déverrouillage. | Parcourez le compte Active Directory pour trouver Azure AD Connect et réinitialisez le mot de passe de sorte qu’il ne contienne pas plus de 127 caractères. Ensuite, ouvrez le **Service de synchronisation** dans le menu **Démarrer**. Accédez à **Connecteurs** et recherchez le **Connecteur Active Directory**. Sélectionnez-le, puis sélectionnez **Propriétés**. Accédez à la page **Informations d’identification** et entrez le nouveau mot de passe. Cliquez sur **OK** pour fermer la page. |
| À la dernière étape du processus d’installation d’Azure AD Connect, une erreur indique que la réécriture du mot de passe n’a pas pu être configurée. <br> <br> Le journal des événements de l’application Azure AD Connect contient l’erreur 32009 avec le texte « Erreur lors de l’obtention du jeton d’authentification ». | Cette erreur se produit dans les deux cas suivants : <br><ul><li>Vous avez spécifié un mot de passe incorrect pour le compte d’administrateur général spécifié au début du processus d’installation d’Azure AD Connect.</li><li>Vous avez tenté d’utiliser un utilisateur fédéré pour le compte d’administrateur général spécifié au début du processus d’installation d’Azure AD Connect.</li></ul> Pour résoudre ce problème, assurez-vous que vous n’utilisez pas un compte fédéré pour l’administrateur général que vous avez spécifié au début du processus d’installation. Vérifiez également que le mot de passe spécifié est correct. |
| Le journal des événements de la machine Azure AD Connect contient l’erreur 32002 qui est levée en exécutant PasswordResetService. <br> <br> Le message d’erreur : « Erreur de connexion à ServiceBus. Le fournisseur de jetons n’a pas pu fournir de jeton de sécurité. » | Votre environnement local n’est pas en mesure de se connecter au point de terminaison Service Bus dans le cloud. Cette erreur est due à une règle de pare-feu qui bloque une connexion sortante vers une adresse web ou un port spécifique. Consultez [Prérequis de connectivité](./connect/active-directory-aadconnect-prerequisites.md) pour plus d’informations. Une fois que vous avez mis à jour ces règles, redémarrez la machine Azure AD Connect. La réécriture du mot de passe doit fonctionner de nouveau. |
| Après avoir pu réinitialiser leurs mots de passe pendant un certain temps, les utilisateurs fédérés ou qui ont recours à la synchronisation du hachage de mot de passe ne parviennent plus à réinitialiser leurs mots de passe. | Dans certains cas rares, le service de réécriture du mot de passe peut ne pas réussir à redémarrer quand Azure AD Connect a redémarré. Dans ce cas, commencez par vérifier si la réécriture du mot de passe est activée localement. Vous pouvez effectuer cette vérification à l’aide de l’Assistant Azure AD Connect ou de PowerShell (voir les procédures indiquées dans la section précédente). Si la fonctionnalité semble activée, essayez de l’activer ou de la désactiver à nouveau par le biais de l’interface utilisateur ou de PowerShell. Si le problème persiste, essayez une désinstallation et une réinstallation complètes d’Azure AD Connect. |
| Les utilisateurs fédérés ou qui ont recours à la synchronisation du hachage de mot de passe qui tentent de réinitialiser leurs mots de passe voient une erreur quand ils essaient de soumettre ces derniers. L’erreur indique un problème de service. <br ><br> En plus de ce problème, pendant les opérations de réinitialisation de mot de passe, une erreur peut figurer dans vos journaux des événements locaux, indiquant que l’agent de gestion s’est vu refuser l’accès. | Si vous voyez ces erreurs dans votre journal des événements, vérifiez que le compte de l’agent de gestion Active Directory (ADMA) qui a été spécifié dans l’Assistant au moment de la configuration dispose des autorisations nécessaires pour la réécriture du mot de passe. <br> <br> Notez qu’une fois cette autorisation accordée, cela peut prendre jusqu’à 1 heure pour que les autorisations arrivent via la tâche en arrière-plan `sdprop` sur le contrôleur de domaine. <br> <br> Pour que la réinitialisation du mot de passe fonctionne, l’autorisation doit être marquée sur le descripteur de sécurité de l’objet utilisateur dont le mot de passe est réinitialisé. Tant que cette autorisation n’apparaît pas sur l’objet utilisateur, la réinitialisation du mot de passe continue d’échouer avec un message indiquant que l’accès a été refusé. |
| Les utilisateurs fédérés ou qui ont recours à la synchronisation du hachage de mot de passe qui tentent de réinitialiser leurs mots de passe voient une erreur quand ils soumettent ces derniers. L’erreur indique un problème de service. <br> <br> En plus de ce problème, durant les opérations de réinitialisation de mot de passe, une erreur « Objet introuvable »peut apparaître dans vos journaux des événements du service Azure AD Connect. | Cette erreur indique généralement que le moteur de synchronisation est incapable de trouver l’objet utilisateur dans l’espace du connecteur Azure AD ou l’objet espace du connecteur métaverse (MV) ou Azure AD lié. <br> <br> Pour résoudre ce problème, assurez-vous que l’utilisateur est véritablement synchronisé localement avec Azure AD via l’instance actuelle d’Azure AD Connect et examinez l’état des objets dans les espaces du connecteur et MV. Vérifiez que l’objet AD CS (Active Directory Certificate Services) est connecté à l’objet MV via la règle « Microsoft.InfromADUserAccountEnabled.xxx ».|
| Les utilisateurs fédérés ou qui ont recours à la synchronisation du hachage de mot de passe qui tentent de réinitialiser leurs mots de passe voient une erreur quand ils soumettent ces derniers. L’erreur indique un problème de service. <br> <br> En plus de ce problème, durant les opérations de réinitialisation de mot de passe, une erreur indiquant « Plusieurs correspondances trouvées » peut apparaître dans vos journaux des événements du service Azure AD Connect. | Cette erreur indique que le moteur de synchronisation a détecté que l’objet MV est connecté à plusieurs objets AD CS via « Microsoft.InfromADUserAccountEnabled.xxx ». Cela signifie que l’utilisateur dispose d’un compte activé dans plusieurs forêts. Notez que ce scénario n’est pas pris en charge pour la réécriture du mot de passe. |
| Les opérations nécessitant un mot de passe échouent en renvoyant un message d’erreur de configuration. Le journal des événements d’application contient le message d’erreur Azure AD Connect 6329 dont le texte est libellé comme suit : « 0x8023061f (L’opération a échoué, car la synchronisation de mot de passe n’est pas activée pour cet agent de gestion) ». | Cette erreur se produit si la configuration d’Azure AD Connect est changée pour ajouter une nouvelle forêt Active Directory (ou pour supprimer et rajouter une forêt existante) après l’activation de la fonctionnalité de réécriture du mot de passe. Les opérations nécessitant un mot de passe pour les utilisateurs dans ces forêts récemment ajoutées échouent. Pour résoudre le problème, désactivez, puis réactivez la fonctionnalité de réécriture du mot de passe une fois les modifications de configuration de la forêt effectuées. |

## <a name="password-writeback-event-log-error-codes"></a>Codes d’erreur du journal des événements de réécriture du mot de passe

Pour résoudre les problèmes liés à la réécriture du mot de passe, nous vous recommandons d’examiner le journal des événements de l’application sur votre machine Azure AD Connect. Ce journal des événements contient des événements issus de deux sources d’intérêt pour la réécriture du mot de passe. La source PasswordResetService décrit les opérations et les problèmes liés au fonctionnement de la réécriture du mot de passe. La source ADSync décrit les opérations et les problèmes liés à la définition des mots de passe dans votre environnement Active Directory.

### <a name="if-the-source-of-the-event-is-adsync"></a>Si la source de l’événement est ADSync

| Code | Nom ou message | Description |
| --- | --- | --- |
| 6329 | BAIL: MMS(4924) 0x80230619 : « Une restriction empêche le mot de passe d’être remplacé par le mot de passe actuel spécifié. » | Cet événement se produit quand le service de réécriture du mot de passe tente de définir un mot de passe sur votre annuaire local qui ne respecte pas les critères d’ancienneté, d’historique, de complexité ou de filtrage du domaine. <br> <br> S’il existe une ancienneté minimale pour un mot de passe alors que vous l’avez changé avant le terme de cette ancienneté, vous ne pouvez pas le remodifier tant qu’il n’a pas atteint l’ancienneté spécifiée dans votre domaine. À des fins de test, l’ancienneté minimale doit être définie sur 0. <br> <br> Si des critères d’historique de mot de passe sont activés, vous devez sélectionner un mot de passe qui n’a pas été utilisé au cours des *N* dernières fois, où *N* est le paramètre d’historique du mot de passe. Si vous sélectionnez un mot de passe qui a été utilisé au cours des *N* dernières fois, un échec se produit. À des fins de test, l’historique de mot de passe doit être défini sur 0. <br> <br> S’il existe des critères de complexité des mots de passe, ils sont tous appliqués quand l’utilisateur tente de modifier ou réinitialiser un mot de passe. <br> <br> Si des filtres de mots de passe sont activés et qu’un utilisateur sélectionne un mot de passe qui ne répond pas aux critères de filtrage, l’opération de réinitialisation ou de modification échoue. |
| 6329 | MMS(3040) : admaexport.cpp(2837) : le serveur ne contient pas le contrôle de stratégie de mot de passe LDAP. | Ce problème se produit si le contrôle LDAP_SERVER_POLICY_HINTS_OID (1.2.840.113556.1.4.2066) n’est pas activé sur les contrôleurs de domaine. Pour utiliser la fonctionnalité d’écriture différée du mot de passe, vous devez activer le contrôle. Pour cela, les contrôleurs de domaine doivent se trouver sur Windows Server 2008 (avec le dernier SP) ou version ultérieure. Si vos contrôleurs de domaine sont sur 2008 (version antérieure à R2), vous devez également appliquer le correctif logiciel [KB2386717](http://support.microsoft.com/kb/2386717). |
| HR 8023042 | Le moteur de synchronisation a renvoyé une erreur hr=80230402, message = Une tentative visant à obtenir un objet a échoué, car il existe des entrées en double avec le même point d’ancrage. | Cette erreur se produit quand le même identifiant utilisateur est activé dans plusieurs domaines. C’est, par exemple, le cas si vous synchronisez des forêts de comptes et de ressources et que le même identifiant utilisateur est présent et activé pour chacune des forêts. <br> <br> Cette erreur peut également se produire si vous utilisez un attribut d’ancrage non unique (comme un alias ou un UPN) et que deux utilisateurs partagent ce même attribut d’ancrage. <br> <br> Pour résoudre ce problème, assurez-vous de ne pas avoir d’utilisateurs en double dans vos domaines et d’utiliser un attribut d’ancrage unique pour chaque utilisateur. |

### <a name="if-the-source-of-the-event-is-passwordresetservice"></a>Si la source de l’événement est PasswordResetService

| Code | Nom ou message | Description |
| --- | --- | --- |
| 31001 | PasswordResetStart | Cet événement indique que le service local a détecté une demande de réinitialisation de mot de passe provenant du cloud pour un utilisateur fédéré ou qui a recours à la synchronisation du hachage de mot de passe. Cet événement est le premier de chaque opération d’écriture différée de réinitialisation de mot de passe. |
| 31002 | PasswordResetSuccess | Cet événement indique qu’un utilisateur a sélectionné un nouveau mot de passe pendant une opération de réinitialisation de mot de passe. Nous avons déterminé que ce mot de passe répond aux exigences de mot de passe d’entreprise. Le mot de passe a été correctement écrit en différé dans l’environnement Active Directory local. |
| 31003 | PasswordResetFail | Cet événement indique qu’un utilisateur a sélectionné un mot de passe et que le mot de passe est arrivé avec succès à l’environnement local. Toutefois, quand nous avons essayé de définir le mot de passe dans l’environnement Active Directory local, une erreur s’est produite. Cet échec peut se produire pour plusieurs raisons : <br><ul><li>Le mot de passe de l’utilisateur ne répond pas aux critères d’ancienneté, d’historique, de complexité ou de filtrage du domaine. Pour résoudre ce problème, créez un mot de passe.</li><li>Le compte de service ADMA n’a pas les autorisations appropriées pour définir le nouveau mot de passe du compte d’utilisateur en question.</li><li>Le compte d’utilisateur est dans un groupe protégé, comme celui des administrateurs de domaine ou d’entreprise, ce qui n’autorise pas les opérations de définition de mots de passe.</li></ul>|
| 31004 | OnboardingEventStart | Cet événement se produit si vous activez la réécriture du mot de passe avec Azure AD Connect et que nous avons commencé à intégrer votre organisation au service web de réécriture du mot de passe. |
| 31005 | OnboardingEventSuccess | Cet événement indique que le processus d’intégration a réussi et que la fonctionnalité de réécriture du mot de passe est prête à être utilisée. |
| 31006 | ChangePasswordStart | Cet événement indique que le service local a détecté une demande de modification de mot de passe provenant du cloud pour un utilisateur fédéré ou qui a recours à la synchronisation du hachage de mot de passe. Cet événement est le premier de chaque opération d’écriture différée de modification de mot de passe. |
| 31007 | ChangePasswordSuccess | Cet événement indique qu’un utilisateur a sélectionné un nouveau mot de passe pendant une opération de modification de mot de passe. Nous avons déterminé que le mot de passe répond aux critères définis pour les mots de passe de l’entreprise et que ce mot de passe a été correctement écrit dans l’environnement Active Directory local. |
| 31008 | ChangePasswordFail | Cet événement indique qu’un utilisateur a sélectionné un mot de passe et que le mot de passe est arrivé correctement dans l’environnement local, mais quand nous avons essayé de définir le mot de passe dans l’environnement Active Directory local, une défaillance s’est produite. Cet échec peut se produire pour plusieurs raisons : <br><ul><li>Le mot de passe de l’utilisateur ne répond pas aux critères d’ancienneté, d’historique, de complexité ou de filtrage du domaine. Pour résoudre ce problème, créez un mot de passe.</li><li>Le compte de service ADMA n’a pas les autorisations appropriées pour définir le nouveau mot de passe du compte d’utilisateur en question.</li><li>Le compte d’utilisateur est dans un groupe protégé, comme celui des administrateurs de domaine ou d’entreprise, ce qui n’autorise pas les opérations de définition de mots de passe.</li></ul> |
| 31009 | ResetUserPasswordByAdminStart | Le service local a détecté une demande de réinitialisation de mot de passe pour un utilisateur fédéré ou qui a recours à la synchronisation du hachage de mot de passe provenant de l’administrateur au nom d’un utilisateur. Cet événement est le premier de chaque opération d’écriture différée de réinitialisation de mot de passe qui est lancée par un administrateur. |
| 31010 | ResetUserPasswordByAdminSuccess | L’administrateur a sélectionné un nouveau mot de passe durant une opération de réinitialisation de mot de passe lancée par l’administrateur. Nous avons déterminé que ce mot de passe répond aux exigences de mot de passe d’entreprise. Le mot de passe a été correctement écrit en différé dans l’environnement Active Directory local. |
| 31011 | ResetUserPasswordByAdminFail | L’administrateur a sélectionné un mot de passe au nom d’un utilisateur. Le mot de passe est arrivé avec succès à l’environnement local. Toutefois, quand nous avons essayé de définir le mot de passe dans l’environnement Active Directory local, une erreur s’est produite. Cet échec peut se produire pour plusieurs raisons : <br><ul><li>Le mot de passe de l’utilisateur ne répond pas aux critères d’ancienneté, d’historique, de complexité ou de filtrage du domaine. Pour résoudre ce problème, essayez un nouveau mot de passe.</li><li>Le compte de service ADMA n’a pas les autorisations appropriées pour définir le nouveau mot de passe du compte d’utilisateur en question.</li><li>Le compte d’utilisateur est dans un groupe protégé, comme celui des administrateurs de domaine ou d’entreprise, ce qui n’autorise pas les opérations de définition de mots de passe.</li></ul>  |
| 31012 | OffboardingEventStart | Cet événement se produit si vous désactivez la réécriture du mot de passe avec Azure AD Connect et indique que nous avons commencé à désintégrer votre organisation du service web de réécriture du mot de passe. |
| 31013| OffboardingEventSuccess| Cet événement indique que le processus de désintégration a réussi et que la fonctionnalité de réécriture du mot de passe a correctement été désactivée. |
| 31014| OffboardingEventFail| Cet événement indique que le processus de désintégration n’a pas réussi. Cela peut être dû à une erreur d’autorisations sur le compte d’administrateur cloud ou local spécifié durant la configuration. L’erreur peut également se produire si vous tentez d’utiliser un administrateur général cloud fédéré quand vous désactivez la réécriture du mot de passe. Pour résoudre ce problème, vérifiez vos autorisations administratives et vérifiez que vous n’utilisez pas un compte fédéré pour configurer la fonctionnalité de réécriture du mot de passe.|
| 31015| WriteBackServiceStarted| Cet événement indique que le service de réécriture du mot de passe a démarré avec succès. Il est prêt à accepter les demandes de gestion de mot de passe provenant du cloud.|
| 31016| WriteBackServiceStopped| Cet événement indique que le service de réécriture du mot de passe s’est arrêté. Toute demande de gestion de mot de passe provenant du cloud est vouée à l’échec.|
| 31017| AuthTokenSuccess| Cet événement indique que nous avons correctement récupéré un jeton d’autorisation pour l’administrateur général spécifié pendant l’installation d’Azure AD Connect afin de démarrer le processus d’intégration ou de désintégration.|
| 31018| KeyPairCreationSuccess| Cet événement indique que nous avons correctement créé la clé de chiffrement de mot de passe. Cette clé est utilisée pour chiffrer les mots de passe à partir du cloud à envoyer à votre environnement local.|
| 32000| UnknownError| Cet événement indique qu’une erreur inconnue s’est produite durant une opération de gestion de mot de passe. Examinez le texte de l’exception dans l’événement pour plus d’informations. Si vous rencontrez des problèmes, essayez de désactiver, puis de réactiver la réécriture du mot de passe. Si cela ne change rien, incluez une copie de votre journal des événements avec l’ID de suivi spécifié à l’ingénieur du support technique.|
| 32001| ServiceError| Cet événement indique une erreur de connexion au service de réinitialisation de mot de passe à partir du cloud. Cette erreur se produit généralement quand le service local n’a pas pu se connecter au service web de réinitialisation de mot de passe.|
| 32002| ServiceBusError| Cet événement indique une erreur de connexion à une instance Service Bus de votre locataire. Cela peut se produire si vous bloquez les connexions sortantes de votre environnement local. Vérifiez que votre pare-feu autorise les connexions sur TCP 443 et à https://ssprsbprodncu-sb.accesscontrol.windows.net/, puis réessayez. Si vous rencontrez encore des problèmes, essayez de désactiver, puis de réactiver la réécriture du mot de passe.|
| 32003| InPutValidationError| Cet événement indique que l’entrée passée à l’API du service web n’est pas valide. Recommencez l’opération.|
| 32004| DecryptionError| Cet événement indique qu’une erreur de déchiffrement du mot de passe arrivé du cloud s’est produite. Cette erreur peut être due à une incompatibilité de la clé de déchiffrement entre le service cloud et votre environnement local. Pour résoudre ce problème, désactivez, puis réactivez la réécriture du mot de passe dans votre environnement local.|
| 32005| ConfigurationError| Au cours de l’intégration, nous enregistrons des informations propres au locataire dans un fichier de configuration dans votre environnement local. Cet événement indique qu’une erreur s’est produite durant l’enregistrement de ce fichier ou, quand le service a démarré, durant la lecture de ce fichier. Pour résoudre ce problème, essayez de désactiver, puis réactiver la réécriture du mot de passe pour forcer une réécriture du fichier de configuration.|
| 32007| OnBoardingConfigUpdateError| Pendant l’intégration, nous envoyons des données du cloud au service de réinitialisation du mot de passe local. Ces données sont ensuite écrites dans un fichier en mémoire avant d’être envoyées au service de synchronisation pour être stockées de manière sécurisée sur le disque. Cet événement indique un problème d’écriture ou de mise à jour de ces données en mémoire. Pour résoudre ce problème, essayez de désactiver, puis réactiver la réécriture du mot de passe pour forcer une réécriture de ce fichier de configuration.|
| 32008| ValidationError| Cet événement indique que nous avons reçu une réponse non valide du service web de réinitialisation du mot de passe. Pour résoudre ce problème, essayez de désactiver, puis réactiver la réécriture du mot de passe.|
| 32009| AuthTokenError| Cet événement indique que nous n’avons pas réussi à obtenir un jeton d’autorisation pour le compte d’administrateur général spécifié pendant l’installation d’Azure AD Connect. Cette erreur peut être due à un mauvais nom d’utilisateur ou mot de passe spécifié pour le compte d’administrateur général. Elle peut également se produire si le compte d’administrateur général spécifié est fédéré. Pour résoudre ce problème, réexécutez la configuration avec le nom d’utilisateur et le mot de passe corrects, puis assurez-vous que l’administrateur correspond à un compte managé (sur le cloud uniquement ou avec la synchronisation de mot de passe).|
| 32010| CryptoError| Cet événement indique une erreur liée à la génération de la clé de chiffrement du mot de passe ou au déchiffrement d’un mot de passe arrivé du service cloud. Cette erreur indique probablement un problème lié à votre environnement. Examinez les détails de votre journal des événements pour en savoir plus sur la résolution de ce problème. Vous pouvez également essayer de désactiver, puis réactiver le service de réécriture du mot de passe.|
| 32011| OnBoardingServiceError| Cet événement indique que le service local n’a pas pu communiquer correctement avec le service web de réinitialisation du mot de passe pour lancer le processus d’intégration. Cela peut être lié à une règle de pare-feu ou à un problème d’obtention d’un jeton d’authentification pour votre locataire. Pour résoudre ce problème, assurez-vous de ne pas bloquer les connexions sortantes via TCP 443 et TCP 9350 à 9354 ou à https://ssprsbprodncu-sb.accesscontrol.windows.net/. Vérifiez également que le compte d’administrateur Azure AD que vous utilisez pour l’intégration n’est pas fédéré.|
| 32013| OffBoardingError| Cet événement indique que le service local n’a pas pu communiquer correctement avec le service web de réinitialisation du mot de passe pour lancer le processus de désintégration. Cette erreur peut être due à une règle de pare-feu ou à un problème d’obtention d’un jeton d’autorisation pour votre locataire. Pour résoudre ce problème, assurez-vous de ne pas bloquer les connexions sortantes via 443 ou à https://ssprsbprodncu-sb.accesscontrol.windows.net/ et que le compte d’administrateur Azure Active Directory que vous utilisez pour la désintégration n’est pas fédéré.|
| 32014| ServiceBusWarning| Cet événement indique que nous avons dû réessayer de vous connecter à une instance Service Bus de votre locataire. Dans des conditions normales, cet événement n’est pas préoccupant, mais s’il se produit à de nombreuses reprises, envisagez de vérifier la connexion réseau à Service Bus, surtout s’il s’agit d’une connexion à latence élevée ou à faible bande passante.|
| 32015| ReportServiceHealthError| Pour analyser l’intégrité de votre service de réécriture du mot de passe, nous envoyons des données de pulsation à notre service web de réinitialisation du mot de passe toutes les cinq minutes. Cet événement indique qu’une erreur s’est produite lors du renvoi de ces informations d’intégrité au service web cloud. Ces informations d’intégrité n’incluent pas de données OII (informations d’identification d’objet) ou PII (informations d’identification personnelle). Il s’agit purement de statistiques du service de pulsation et de base qui nous permettent de fournir des informations d’état du service dans le cloud.|
| 33001| ADUnKnownError| Cet événement indique qu’une erreur inconnue a été retournée par Active Directory. Pour plus d’informations, recherchez les événements issus de la source ADSync dans le journal des événements du serveur Azure AD Connect.|
| 33002| ADUserNotFoundError| Cet événement indique que l’utilisateur qui essaie de réinitialiser ou modifier un mot de passe est introuvable dans l’annuaire local. Cette erreur peut se produire quand l’utilisateur a été supprimé localement, mais pas sur le cloud. Cette erreur peut également se produire s’il existe un problème de synchronisation. Vérifiez vos journaux de synchronisation, ainsi que les détails de la dernière synchronisation pour plus d’informations.|
| 33003| ADMutliMatchError| Quand une demande de réinitialisation ou modification de mot de passe vient du cloud, nous utilisons l’ancrage cloud spécifiée pendant le processus d’installation d’Azure AD Connect pour déterminer comment lier cette demande à un utilisateur dans votre environnement local. Cet événement indique que nous avons trouvé deux utilisateurs dans votre annuaire local avec le même attribut d’ancrage cloud. Vérifiez vos journaux de synchronisation, ainsi que les détails de la dernière synchronisation pour plus d’informations.|
| 33004| ADPermissionsError| Cet événement indique que le compte de service de l’agent de gestion Active Directory (ADMA) n’a pas les autorisations appropriées sur le compte en question pour définir un nouveau mot de passe. Assurez-vous que le compte ADMA dans la forêt de l’utilisateur possède des autorisations de réinitialisation et modification de mot de passe sur tous les objets de la forêt. Pour plus d’informations sur la façon de définir ces autorisations, consultez Étape 4 : Définir les autorisations Active Directory appropriées.|
| 33005| ADUserAccountDisabled| Cet événement indique que nous avons tenté de réinitialiser ou changer un mot de passe pour un compte qui a été désactivé localement. Activez le compte et recommencez l’opération.|
| 33006| ADUserAccountLockedOut| Cet événement indique que nous avons tenté de réinitialiser ou changer un mot de passe pour un compte qui a été verrouillé localement. Des verrouillages peuvent se produire quand un utilisateur a tenté une opération de modification ou réinitialisation de mot de passe un nombre de fois trop élevé sur un court laps de temps. Déverrouillez le compte et recommencez l’opération.|
| 33007| ADUserIncorrectPassword| Cet événement indique que l’utilisateur a spécifié un mot de passe actuel incorrect lors de l’opération de modification du mot de passe. Spécifiez le mot de passe correct actuel et réessayez.|
| 33008| ADPasswordPolicyError| Cet événement se produit quand le service de réécriture du mot de passe tente de définir un mot de passe sur votre annuaire local qui ne respecte pas les critères d’ancienneté, d’historique, de complexité ou de filtrage du domaine. <br> <br> S’il existe une ancienneté minimale pour un mot de passe alors que vous l’avez changé avant le terme de cette ancienneté, vous ne pouvez pas le remodifier tant qu’il n’a pas atteint l’ancienneté spécifiée dans votre domaine. À des fins de test, l’ancienneté minimale doit être définie sur 0. <br> <br> Si des critères d’historique de mot de passe sont activés, vous devez sélectionner un mot de passe qui n’a pas été utilisé au cours des *N* dernières fois, où *N* est le paramètre d’historique du mot de passe. Si vous sélectionnez un mot de passe qui a été utilisé au cours des *N* dernières fois, un échec se produit. À des fins de test, l’historique de mot de passe doit être défini sur 0. <br> <br> S’il existe des critères de complexité des mots de passe, ils sont tous appliqués quand l’utilisateur tente de modifier ou réinitialiser un mot de passe. <br> <br> Si des filtres de mots de passe sont activés et qu’un utilisateur sélectionne un mot de passe qui ne répond pas aux critères de filtrage, l’opération de réinitialisation ou de modification échoue.|
| 33009| ADConfigurationError| Cet événement indique qu’un problème s’est produit durant l’écriture d’un mot de passe dans votre annuaire local en raison d’un problème de configuration avec Active Directory. Consultez le journal des événements de l’application de la machine Azure AD Connect pour identifier les messages provenant du service ADSync et obtenir plus d’informations sur l’erreur qui s’est produite.|

## <a name="troubleshoot-password-writeback-connectivity"></a>Résolution des problèmes de connectivité de la réécriture du mot de passe

Si vous rencontrez des interruptions de service avec le composant de réécriture du mot de passe d’Azure AD Connect, voici quelques mesures rapides à prendre pour résoudre le problème :

* [Vérifier la connectivité réseau](#confirm-network-connectivity)
* [Redémarrer le service de synchronisation Azure AD Connect](#restart-the-azure-ad-connect-sync-service)
* [Désactiver et réactiver la fonctionnalité de réécriture du mot de passe](#disable-and-re-enable-the-password-writeback-feature)
* [Installer la dernière version d’Azure AD Connect](#install-the-latest-azure-ad-connect-release)
* [Résoudre les problèmes d’écriture différée du mot de passe](#troubleshoot-password-writeback)

En général, pour récupérer votre service de la manière la plus rapide, nous vous recommandons d’exécuter ces étapes dans l’ordre indiqué précédemment.

### <a name="confirm-network-connectivity"></a>Vérifier la connectivité réseau

Le point de défaillance le plus courant est que le pare-feu et/ou les ports de proxy et délais d’inactivité sont mal configurés. 

Pour Azure AD Connect version 1.1.443.0 et versions ultérieures, vous avez besoin d’un accès HTTPS sortant à ce qui suit :

   - passwordreset.microsoftonline.com
   - servicebus.windows.net

Pour plus de granularité, reportez-vous à la liste mise à jour des [plages d’adresses IP du centre de données Microsoft Azure](https://www.microsoft.com/download/details.aspx?id=41653), actualisée tous les mercredis et appliquée le lundi qui suit.

Pour plus d’informations, vérifiez les prérequis de connectivité dans l’article [Conditions préalables pour Azure AD Connect](./connect/active-directory-aadconnect-prerequisites.md).



### <a name="restart-the-azure-ad-connect-sync-service"></a>Redémarrer le service de synchronisation Azure AD Connect

Pour résoudre les problèmes de connectivité ou d’autres problèmes temporaires rencontrés avec le service, redémarrez le service de synchronisation d’Azure AD Connect :

   1. En tant qu’administrateur, sélectionnez **Démarrer** sur le serveur exécutant Azure AD Connect.
   2. Entrez **services.msc** dans le champ de recherche, puis sélectionnez **Entrée**.
   3. Recherchez l’entrée **Microsoft Azure AD Sync**.
   4. Cliquez avec le bouton droit sur l’entrée du service, sélectionnez **Redémarrer**, puis attendez que l’opération soit terminée.

   ![Redémarrer le service de synchronisation Azure AD][Service restart]

Ces étapes vont rétablir votre connexion au service cloud et résoudre toute interruption à laquelle vous pouvez être confronté. Si le redémarrage du service ADSync ne résout pas votre problème, nous vous recommandons d’essayer de le désactiver, puis de réactiver la fonctionnalité de réécriture du mot de passe.

### <a name="disable-and-re-enable-the-password-writeback-feature"></a>Désactiver et réactiver la fonctionnalité de réécriture du mot de passe

Pour résoudre les problèmes de connectivité, désactivez, puis réactivez la fonctionnalité de réécriture du mot de passe :

   1. En tant qu’administrateur, ouvrez l’Assistant Configuration d’Azure AD Connect.
   2. Dans **Connexion à Azure AD**, entrez vos informations d’identification d’administrateur général d’Azure AD.
   3. Dans **Connexion à AD DS**, entrez vos informations d’identification d’administrateur des services de domaine AD.
   4. Dans **Identification de vos utilisateurs uniquement**, sélectionnez le bouton **Suivant**.
   5. Dans **Fonctionnalités facultatives**, décochez la case **Réécriture du mot de passe**.
   6. Sélectionnez **Suivant** dans les pages restantes de la boîte de dialogue sans apporter de modification jusqu’à ce que vous atteigniez la page **Prêt pour la configuration**.
   7. Vérifiez que la page **Prêt pour la configuration** indique l’option **Réécriture du mot de passe** comme **désactivée**, puis sélectionnez le bouton vert **Configurer** pour valider vos modifications.
   8. Dans **Terminé**, désactivez l’option **Synchroniser maintenant**, puis sélectionnez **Terminer** pour fermer l’Assistant.
   9. Rouvrez l’Assistant Configuration d’Azure AD Connect.
   10. Répétez les étapes 2 à 8, en vous assurant cette fois que vous sélectionnez l’option **Réécriture du mot de passe** dans la page **Fonctionnalités facultatives** pour réactiver le service.

Ces étapes vont rétablir votre connexion au service cloud et résoudre toute interruption à laquelle vous pouvez être confronté.

Si la désactivation, puis la réactivation de la fonctionnalité de réécriture du mot de passe ne résout pas votre problème, nous vous recommandons de réinstaller Azure AD Connect.

### <a name="install-the-latest-azure-ad-connect-release"></a>Installer la dernière version d’Azure AD Connect

Réinstaller Azure AD Connect peut résoudre les problèmes de configuration et de connectivité entre nos services cloud et votre environnement Active Directory local.

Nous vous recommandons d’effectuer cette étape uniquement après avoir tenté les deux premières étapes décrites précédemment.

> [!WARNING]
> Si vous avez personnalisé les règles de synchronisation par défaut, *sauvegardez-les avant de procéder à la mise à niveau, puis redéployez-les manuellement après avoir terminé*.

   1. Téléchargez la dernière version d’Azure AD Connect sur le [Centre de téléchargement de Microsoft](http://go.microsoft.com/fwlink/?LinkId=615771).
   2. Puisque vous avez déjà installé Azure AD Connect, il vous suffit d’effectuer une mise à niveau sur place pour mettre à jour votre installation d’Azure AD Connect vers la dernière version.
   3. Exécutez le package téléchargé et suivez les instructions à l’écran pour mettre à jour votre ordinateur Azure AD Connect.

Les étapes précédentes doivent normalement rétablir votre connexion au service cloud et résoudre toute interruption à laquelle vous pouvez être confronté.

Si l’installation de la dernière version du serveur Azure AD Connect ne résout pas votre problème, la dernière étape recommandée consiste à essayer la désactivation, puis la réactivation de la réécriture du mot de passe après avoir installé la dernière version.

## <a name="verify-that-azure-ad-connect-has-the-required-permission-for-password-writeback"></a>Vérifier qu’Azure AD Connect a l’autorisation nécessaire pour l’écriture différée du mot de passe

Azure AD Connect a besoin de l’autorisation Active Directory **Réinitialiser le mot de passe** pour effectuer une écriture différée du mot de passe. Pour savoir si Azure AD Connect a l’autorisation requise pour un compte d’utilisateur Active Directory local donné, vous pouvez utiliser la fonctionnalité d’autorisation effective de Windows :

   1. Connectez-vous au serveur Azure AD Connect et démarrez **Synchronization Service Manager** en sélectionnant **Démarrer** > **Service de synchronisation**.
   2. Sous l’onglet **Connecteurs**, sélectionnez le connecteur **Active Directory Domain Services**, puis sélectionnez **Propriétés**.  

   ![Autorisation effective - Étape 2](./media/active-directory-passwords-troubleshoot/checkpermission01.png)  
  
   3. Dans la fenêtre indépendante, sélectionnez l’onglet **Se connecter à la forêt Active Directory** et prenez note de la propriété **Nom d’utilisateur**. Cette propriété est le compte AD DS utilisé par Azure AD Connect pour effectuer la synchronisation d’annuaire. Pour qu’Azure AD Connect effectue une écriture différée du mot de passe, il faut que le compte des services AD DS dispose de l’autorisation de réinitialiser le mot de passe.  
   
   ![Autorisation effective - Étape 3](./media/active-directory-passwords-troubleshoot/checkpermission02.png) 
  
   4. Connectez-vous à un contrôleur de domaine local et démarrez l’application **Utilisateurs et ordinateurs Active Directory**.
   5. Sélectionnez **Affichage** et vérifiez que l’option **Fonctionnalités avancées** est activée.  
   
   ![Autorisation effective - Étape 5](./media/active-directory-passwords-troubleshoot/checkpermission03.png) 
  
   6. Recherchez le compte d’utilisateur Active Directory à vérifier. Cliquez avec le bouton droit sur le nom du compte et sélectionnez **Propriétés**.  
   
   ![Autorisation effective - Étape 6](./media/active-directory-passwords-troubleshoot/checkpermission04.png) 

   7. Dans la fenêtre indépendante, accédez à l’onglet **Sécurité** et sélectionnez **Avancé**.  
   
   ![Autorisation effective - Étape 7](./media/active-directory-passwords-troubleshoot/checkpermission05.png) 
   
   8. Dans la fenêtre indépendante **Paramètres de sécurité avancés pour Administrateur**, accédez à l’onglet **Accès effectif**.
   9. Sélectionnez **Sélectionner un utilisateur**, sélectionnez le compte AD DS utilisé par Azure AD Connect (consultez l’étape 3), puis sélectionnez **Afficher l’accès effectif**.  
   
   ![Autorisation effective - Étape 9](./media/active-directory-passwords-troubleshoot/checkpermission06.png) 
  
   10. Faites défiler vers le bas et recherchez **Réinitialiser le mot de passe**. Si l’entrée a une coche, le compte AD DS est autorisé à réinitialiser le mot de passe du compte d’utilisateur Active Directory sélectionné.  
   
   ![Autorisation effective - Étape 10](./media/active-directory-passwords-troubleshoot/checkpermission07.png)  

## <a name="azure-ad-forums"></a>Forums d’Azure AD

Si vous avez une question générale sur Azure AD et la réinitialisation du mot de passe en libre-service, vous pouvez demander de l’aide à la communauté sur les [forums d’Azure AD](https://social.msdn.microsoft.com/Forums/en-US/home?forum=WindowsAzureAD). Les membres de la communauté comprennent des ingénieurs, des chefs de produit, MVP et autres professionnels de l’informatique.

## <a name="contact-microsoft-support"></a>Contact Microsoft support

Si vous ne trouvez pas la réponse à un problème, nos équipes de support technique sont toujours disponibles pour vous aider davantage.

Pour que nous puissions mieux vous aider, nous vous demandons de fournir autant de détails que possible au moment de l’ouverture d’un dossier d’incident. Ces détails sont les suivants :

* **Description générale de l’erreur** : quelle est l’erreur ? Quel était le comportement que vous avez remarqué ? Comment pouvons-nous reproduire l’erreur ? Fournissez autant de détails que possible.
* **Page** : sur quelle page étiez-vous quand vous avez remarqué l’erreur ? Indiquez l’URL si possible, ainsi qu’une capture d’écran de la page.
* **Code de support** : quel était le code de support généré quand l’utilisateur a vu l’erreur ?
    * Pour trouver ce code, reproduisez l’erreur, puis sélectionnez le lien **Code de support** en bas de l’écran et envoyez à l’ingénieur du support technique le GUID obtenu.

    ![Recherchez le code de support en bas de l’écran][Support code]

    * Si vous êtes dans une page sans code de support dans la partie inférieure, appuyez sur F12 et recherchez le SID et le CID et envoyez ces deux résultats à l’ingénieur de support.
* **Date, heure et fuseau horaire** : incluez la date et l’heure *avec le fuseau horaire* d’occurrence de l’erreur.
* **ID d’utilisateur** : qui était l’utilisateur qui a vu l’erreur ? Par exemple, *user@contoso.com*.
    * S’agit-il d’un utilisateur fédéré ?
    * S’agit-il d’un utilisateur disposant de la synchronisation du hachage de mot de passe ?
    * S’agit-il d’un utilisateur cloud uniquement ?
* **Licences** : l’utilisateur disposait-il d’une licence Azure AD Premium ou Azure AD Basic ?
* **Journal des événements de l’application** : si vous utilisez l’écriture différée de mot de passe et que l’erreur se produit dans votre infrastructure locale, veuillez inclure une copie compressée du journal des événements de l’application provenant de votre serveur Azure AD Connect.



[Service restart]: ./media/active-directory-passwords-troubleshoot/servicerestart.png "Redémarrer le service de synchronisation Azure AD"
[Support code]: ./media/active-directory-passwords-troubleshoot/supportcode.png "Le code de support se trouve en bas à droite de la fenêtre"

## <a name="next-steps"></a>Étapes suivantes

Les articles suivants fournissent des informations supplémentaires sur la réinitialisation de mot de passe à l’aide d’Azure AD :

* [Comment réussir le lancement de la réinitialisation de mot de passe en libre-service ?](active-directory-passwords-best-practices.md)
* [Réinitialiser ou modifier votre mot de passe](active-directory-passwords-update-your-own-password.md)
* [S’inscrire pour la réinitialisation du mot de passe en libre-service](active-directory-passwords-reset-register.md)
* [Vous avez une question relative à la licence ?](active-directory-passwords-licensing.md)
* [Quelles données sont utilisées par la réinitialisation de mot de passe en libre-service et quelles données vous devez renseigner pour vos utilisateurs ?](active-directory-passwords-data.md)
* [Quelles méthodes d'authentification sont accessibles aux utilisateurs ?](active-directory-passwords-how-it-works.md#authentication-methods)
* [Quelles sont les options de stratégie disponibles avec la réinitialisation de mot de passe en libre-service ?](active-directory-passwords-policy.md)
* [Quelle est l’écriture différée de mot de passe et pourquoi dois-je m’y intéresser ?](active-directory-passwords-writeback.md)
* [Comment puis-je générer des rapports sur l’activité dans la réinitialisation de mot de passe en libre-service ?](active-directory-passwords-reporting.md)
* [Quelles sont toutes les options disponibles dans la réinitialisation de mot de passe en libre-service et que signifient-elles ?](active-directory-passwords-how-it-works.md)
* [J’ai une question à laquelle je n’ai pas trouvé de réponse ailleurs](active-directory-passwords-faq.md)
